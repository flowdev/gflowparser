# Data Types for the Flow Parser

This files contains documentation about all data types especially used by the flow parser.

## Version
Version of a flow source file.

### Properties
- Political: 1 (number) - First part of the version. Changes to it have political implications.
- Major: 0 (number) - Second part of the version. A change indicates incompatibility with other version.

## PortData
All data needed to describe a flow port completely.

### Properties
- Name: in (string) - Name of the flow port.
- HasIndex: true (boolean) - Has the flow port got an index?
- Index: 0 (number) - Index of the flow port starting at `0` or `0`.
- SrcPos: 12 (number) - Position of the flow port in the flow source code.

## PortPair
A pair of ports consists of an input and an output port.

### Properties
- InPort: (PortData) - Input port of the pair.
- OutPort: (PortData) -  Output port of the pair.

## Operation
All data for a flow operation.

### Properties
- Name: pBigIdent (string) - Name of the operation as used in the flow.
- Type: ParseBigIdent (string) - Type of the flow operation.
- InPorts (array[PortData]) - All input ports of the operation.
- OutPorts (array[PortData]) - All output ports of the operation.
- SrcPos: 18 (number) - Position of the flow operation in the flow source code.
- PortPairs (array[PortPair]) - All ports of the operation. The pairs have to be filled as much as possible.

## Connection
All data for a connection in a flow.

### Properties
- FromOp (Operation) - The source of the connection.
- FromPort (PortData) - The output port of the source operation.
- DataType: FlowData (string) - Type of the data that flows from `FromOp` to `ToOp`.
- ShowDataType (boolean) - Should the data type be shown in a diagram?
- ToOp (Operation) - The destination of the connection.
- ToPort (PortData) - The input port of the destination operation.

## Flow
All data for describing a flow.

### Properties
- Name: BusinessFlow (string) - Name of the flow.
- Ops (array[Operation]) - All operations of the flow.
- Conns (array[Connection]) - All connections of the flow.

## FlowFile
All data about a flow file including the flows themself.

### Properties
- FileName: `businessLogic.flow` (string) - Name of the flow file.
- Version (Version) - Version of the flow file.
- Flows (array[Flow]) - All flows contained in the flow file.


## gparselib.SourceData
- Name (string) - Name of the source file (content and everything else is hidden from us).

## gparselib.FeedbackItem
- Kind (enum[gparslib.FeedbackKind]) - Either `FeedbackInfo`, `FeedbackWarning` or `FeedbackError`.
- Msg  (string) - The feedback message as it should be displayed to the user.

## gparselib.ParseResult
- Text     (string) - The source text that has been successfully parsed.
- Pos      (number) - Position in the source code where `Text` starts.
- Value     - The semantic parse result (can be of any data type).
- Feedback (array[gparselib.FeedbackItem]) - All feedback (usually errors) from the parser.

## gparselib.ParseData
Data as used by the parser library. Doubled here for ease of use.
Details can be found [here](https://github.com/flowdev/gparselib/blob/master/base.go#L83).

### Properties
- Source (gparslib.SourceData) - In memory representation of the source code to be parsed.
- Result (gparslib.ParseResult) - The semantic result of the parser.
- SubResults (array[gparslib.ParseResult]) - Generated by subparsers and used by semantic operations to produce `Result`.


## MainData
All data needed by the flow parser.

### Properties
- ParseData (gparselib.ParseData) - Data needed for all calls to the parser library.
- FlowFile (FlowFile) - The parsed result.
- Horizontal (boolean) - Should the flows be displayed horizontally?
- SelectedFormats (array[string]) - All ouput formats to be used.
- CurrentFormat (string) - Currently used output format.
- OutputName (string) - Name of the output file.
- OutputContent (string) - Content to be written to the output file.

